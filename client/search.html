<input type="text" id="stationInput" placeholder="Station"></input>
<button id="submit">Search</button>
<div id="searchResults" class="search-results"></div>

<script>
    const generateListItems = (arr) => {
        document.querySelector("#searchResults").innerHTML = "";
        arr.forEach(item => {
            const resultContainer = document.createElement('div');
            const stationName = document.createElement('div');
            const stationLines = document.createElement('div');
            stationName.innerHTML = item["Stop Name"];
            stationLines.innerHTML = item["Daytime Routes"];
            resultContainer.append(stationName, stationLines);
            document.querySelector("#searchResults").append(resultContainer);
        })
    }
    document.querySelector("#submit").addEventListener("click", () => {
        searchTerm = document.querySelector("#stationInput").value;
        fetch(`/search/${searchTerm}`, {
            method: 'post'
        })
            .then(resp => resp.json())
            .then(data => {
                console.log(data.searchResults)
                generateListItems(data.searchResults);
            })
    })
</script>